<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=0.7">
	<link rel="stylesheet" type="text/css" href="display.css"/>
	<script type="text/javascript" src="script/vue.js"></script>
	<title>Tabl√•</title>
	<script type="text/x-template" id="link-template">
		  <a
		    v-bind:href="href"
		    v-bind:class="{ active: isActive }"
		    v-on:click="go"
		  >
		    <slot></slot>
		  </a>
	</script>
</head>
<body>
	<div id="app">
		<header>
			<h1>Departures <img class="logo" src="http://www.railnorrkoping2019.org/wp-content/uploads/2018/05/LiU_RailNrk_white.png"/></h1>

			<div v-if="debug">
				<input type="text" class="search" v-model="search" placeholder="Search title, presenter, room, Session ID..."/>
				<button type="button" v-on:click="addMinutesToNow(-24*60)">-1d</button>
				<button type="button" v-on:click="addMinutesToNow(-60)">-1h</button>
				<button type="button" v-on:click="addMinutesToNow(-1)">-1min</button>
				<button type="button" v-on:click="now = new Date(2019,5,17,9,0)">Start</button>
				<button type="button" v-on:click="addMinutesToNow(1)">+1min</button>
				<button type="button" v-on:click="addMinutesToNow(60)">+1h</button>
				<button type="button" v-on:click="addMinutesToNow(24*60)">+1d</button>
			</div>
		</header>

		<section id="main">
			<ul class="display">
				<div class="header">
					<div></div>
					<div>Destinaton</div>
					<div>Depature</div>
					<div>Platform</div>
				</div>
				<li v-for="session in upcomingSessions" class="session">
					<div class="id"><span v-if="!session.number.includes('_')">{{ session.number }}</span></div>
					<div class="title">
						<div>{{ session.title }}</div>
						<marquee class="info">
							<span v-for="(talk, index) in filteredTalks[session.number]" v-if="talk.presenter.length > 0">
								{{ talk.presenter[0].name }}<span v-if="talk.category == 'industrial-paper'" class="tag" title="Professional paper"> (PP)</span><span v-if="index+1 < filteredTalks[session.number].length">, </span>
							</span>
						</marquee>
					</div>
					<div class="time">{{ session.startTimeFormatted }}</div>
					<div class="location">{{ session.room }}</div>
					<div v-html="session.statusText"></div>
				</li>
			</ul>
		</section>
		<footer>
			
		</footer>
	</div>
</body>
<script type="text/javascript" src="./script/main.js"></script>
</html>
